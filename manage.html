<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Management Portal - BookBuddy</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* --- Global Variables (Theme and Colors) --- */
        :root {
            --primary-dark: #333;
            --primary-green: #4CAF50;
            --primary-orange: #f56e14;
            --text-light: white;
            --text-dark: #333;
            --bg-light: #f9f9f9; 
            --card-bg: #ffffff;
            --border-color: #ddd;
            --card-shadow: rgba(0, 0, 0, 0.1);
            --offer-border: #f56e14;
            --offer-badge-bg: #ef5350;
            --aqua: aqua;
            --error-red: #d9534f;
            --secondary-gray: #ecf0f1;
        }

        /* --- Global Reset and Body --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: var(--bg-light);
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        a {
            text-decoration: none;
            color: inherit;
        }

        /* --- Keyframe Animations --- */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInFromLeft {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes slideInFromRight {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* --- Header Styles --- */
        .home_head { 
            background-color: var(--primary-dark); 
            padding: 15px 0;
            width: 100%;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            animation: fadeIn 0.8s ease-out;
        }
        .home_header { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 0 20px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
        }
        .home_heading h1 { 
            color: var(--text-light);
            font-size: 1.8em;
        }
        .home_heading .buddy { 
            color: var(--primary-orange); 
        }
        .home_nav {
            animation: slideInFromRight 0.7s ease-out;
        }
        .home_nav a {
            color: var(--text-light); 
            margin-left: 25px;
            font-weight: 500;
            transition: color 0.3s ease, transform 0.2s ease;
        }
        .home_nav a:hover {
            color: var(--aqua);
            transform: translateY(-2px);
        }
        .home_nav .btn {
            background-color: var(--primary-orange); 
            padding: 10px 20px; 
            border-radius: 5px;
            font-size: 1em;
            transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
        }
        .home_nav .btn:hover {
            transform: translateY(-3px); 
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }
        
        /* --- Main Content --- */
        .staff-management-container {
            max-width: 1200px; 
            margin: 40px auto;
            padding: 20px;
            background-color: var(--card-bg); 
            border-radius: 12px;
            box-shadow: 0 4px 15px var(--card-shadow);
            opacity: 0;
            animation: fadeIn 0.8s ease-out forwards 0.3s;
        }

        .page_title {
            text-align: center;
            margin-bottom: 40px;
            color: var(--primary-dark);
        }

        .page_title h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }

        .page_title p {
            color: #666;
            font-size: 1.1em;
        }

        /* --- Management Tabs --- */
        .management_tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--secondary-gray);
        }

        .tab-btn {
            padding: 12px 25px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            border: 2px solid var(--primary-orange);
            background-color: var(--card-bg);
            color: var(--primary-dark);
            border-radius: 5px 5px 0 0;
            transition: background 0.3s ease, border-color 0.3s ease;
        }

        .tab-btn.active {
            background-color: var(--primary-orange);
            color: var(--text-light);
            border-color: var(--primary-orange);
        }

        .tab-btn:hover:not(.active) {
            background-color: #fff5f0;
        }

        .tab_content {
            display: none;
        }

        .tab_content.active {
            display: block;
        }

        /* --- Hotel Management --- */
        .hotel_management {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .hotel_card {
            background-color: var(--secondary-gray);
            border-radius: 10px;
            padding: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .hotel_card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .hotel_name {
            font-size: 1.3em;
            font-weight: bold;
            color: var(--primary-dark);
            margin-bottom: 15px;
        }

        .price_section {
            margin-bottom: 15px;
        }

        .price_section label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--primary-dark);
        }
        
        .price_input {
            width: 100%;
            padding: 8px 12px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }
        
        .price_input:focus {
            outline: none;
            border-color: var(--primary-orange);
        }
        
        .update_btn {
            background-color: var(--primary-orange);
            color: var(--text-light);
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            width: 100%;
            transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
        }

        .update_btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* --- Food Management --- */
        .food_management {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .food_category {
            background-color: var(--secondary-gray);
            border-radius: 10px;
            padding: 20px;
        }

        .category_title {
            font-size: 1.2em;
            font-weight: bold;
            color: var(--primary-dark);
            margin-bottom: 15px;
            text-align: center;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-orange);
        }

        .food_item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
        }
        
        .food_item:last-child {
            border-bottom: none;
        }
        
        .food_name {
            font-weight: 600;
            color: var(--primary-dark);
            flex: 1;
        }

        .food_price_input {
            width: 80px;
            padding: 5px 8px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            text-align: center;
        }

        .update_food_btn {
            background-color: var(--primary-green);
            color: var(--text-light);
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
            transition: background 0.3s ease;
        }

        .update_food_btn:hover {
            background-color: #45a049;
        }

        /* --- Staff Management --- */
        .staff_management {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 20px;
            }
            
        .staff_card {
            background-color: var(--secondary-gray);
            border-radius: 10px;
                padding: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .staff_card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .staff_name {
            font-size: 1.2em;
            font-weight: bold;
            color: var(--primary-dark);
            margin-bottom: 10px;
        }

        .staff_role {
            color: #666;
            margin-bottom: 15px;
        }

        .task_assign {
            margin-bottom: 15px;
        }

        .task_assign label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--primary-dark);
        }

        .task_assign textarea {
            width: 100%;
            padding: 8px 12px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            font-size: 1em;
            resize: vertical;
            min-height: 80px;
        }

        .assign_btn {
            background-color: var(--primary-orange);
            color: var(--text-light);
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: bold;
            width: 100%;
            transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
        }

        .assign_btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* --- Analytics Dashboard --- */
        .analytics_grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .analytics_card {
            background-color: var(--secondary-gray);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .analytics_card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .analytics_number {
            font-size: 2.5em;
            font-weight: bold;
            color: var(--primary-orange);
            margin-bottom: 10px;
        }

        .analytics_label {
            color: #666;
            font-size: 1em;
        }

        /* --- Footer --- */
        footer {
            background-color: var(--primary-dark);
            color: var(--text-light);
            padding: 15px 0;
            text-align: center;
            margin-top: auto;
        }
        footer a {
            color: var(--primary-orange);
            margin: 0 5px;
        }
        footer a:hover {
            text-decoration: underline;
        }

        /* --- Media Queries --- */
        @media (max-width: 992px) {
            .staff-management-container {
                margin: 20px;
                padding: 15px;
            }
            .management_tabs {
                flex-direction: column;
            }
            .tab-btn {
                border-radius: 5px;
            }
        }

        @media (max-width: 600px) {
            .hotel_management,
            .food_management,
            .staff_management {
                grid-template-columns: 1fr;
            }
            .food_item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
        }
        
.notification {
  position: fixed;
  top: 20px;
  right: 20px;
  padding: 15px 20px;
  border-radius: 5px;
  color: white;
  z-index: 10000;
  animation: slideIn 0.3s ease-out;
}

.notification.success { background-color: #4CAF50; }
.notification.error { background-color: #f44336; }
.notification.info { background-color: #2196F3; }

@keyframes slideIn {
  from { transform: translateX(100%); }
  to { transform: translateX(0); }
}

.modal {
  display: block;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.4);
}

.modal-content {
  background-color: #fefefe;
  margin: 15% auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%;
  max-width: 500px;
  border-radius: 10px;
}

.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
}

.close:hover { color: #000; }

.booking-card {
  border: 1px solid #ddd;
  padding: 15px;
  margin: 10px 0;
  border-radius: 5px;
  background-color: #f9f9f9;
}

.food-item {
  border: 1px solid #eee;
  padding: 10px;
  margin: 5px 0;
  border-radius: 5px;
}

.quantity-controls {
  display: inline-block;
  margin-left: 10px;
}

.quantity-controls button {
  width: 30px;
  height: 30px;
  border: 1px solid #ddd;
  background-color: #f5f5f5;
  cursor: pointer;
}

.quantity-controls span {
  display: inline-block;
  width: 30px;
  text-align: center;
  margin: 0 5px;
}
    </style>
</head>
<body>
    <header class="home_head">
        <div class="home_header">
            <div class="home_heading">
                <h1>Book<span class="buddy">Buddy</span></h1>
            </div>
                <nav class="home_nav">
                <div class="home_links">
                    <a href="index.html">Home</a>
                    <a href="manage.html">Management</a>
                    <a href="#" class="btn">Logout</a>
                </div>
                </nav>
        </div>
    </header>

    <main class="staff-management-container">
        <section class="page_title">
            <h1><i class="fas fa-chart-bar"></i> Management Portal</h1>
            <p>Manage your hotel operations, pricing, and staff assignments</p>
        </section>

        <!-- Management Tabs -->
        <div class="management_tabs">
            <button class="tab-btn active" data-tab="analytics">Analytics</button>
            <button class="tab-btn" data-tab="hotels">Hotel Pricing</button>
            <button class="tab-btn" data-tab="food">Food Menu</button>
            <button class="tab-btn" data-tab="staff">Staff Management</button>
                    </div>

        <!-- Analytics Tab -->
        <div class="tab_content active" id="analytics">
            <div class="analytics_grid">
                <div class="analytics_card">
                    <div class="analytics_number">156</div>
                    <div class="analytics_label">Total Bookings</div>
                    </div>
                <div class="analytics_card">
                    <div class="analytics_number">₹2.4M</div>
                    <div class="analytics_label">Revenue This Month</div>
                </div>
                <div class="analytics_card">
                    <div class="analytics_number">89%</div>
                    <div class="analytics_label">Occupancy Rate</div>
                </div>
                <div class="analytics_card">
                    <div class="analytics_number">4.7</div>
                    <div class="analytics_label">Average Rating</div>
                </div>
                <div class="analytics_card">
                    <div class="analytics_number">23</div>
                    <div class="analytics_label">Active Staff</div>
                </div>
                <div class="analytics_card">
                    <div class="analytics_number">45</div>
                    <div class="analytics_label">Pending Tasks</div>
                </div>
                </div>
            </div>

        <!-- Hotel Pricing Tab -->
        <div class="tab_content" id="hotels">
            <div class="hotel_management" id="hotelManagement">
                <!-- Hotel cards will be populated by JavaScript based on user's hotel -->
            </div>
            </div>

        <!-- Food Menu Tab -->
        <div class="tab_content" id="food">
            <div class="food_management">
                <div class="food_category">
                    <div class="category_title">Breakfast</div>
                    <div class="food_item">
                        <span class="food_name">Idli Sambar (2pcs)</span>
                        <input type="number" class="food_price_input" value="100" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('idli', this)">Update</button>
                    </div>
                    <div class="food_item">
                        <span class="food_name">Masala Dosa</span>
                        <input type="number" class="food_price_input" value="120" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('dosa', this)">Update</button>
                    </div>
                    <div class="food_item">
                        <span class="food_name">Bread Omelette (2 Eggs)</span>
                        <input type="number" class="food_price_input" value="200" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('bread-omelette', this)">Update</button>
                    </div>
                    <div class="food_item">
                        <span class="food_name">Ven Pongal</span>
                        <input type="number" class="food_price_input" value="150" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('pongal', this)">Update</button>
                    </div>
            </div>
            
                <div class="food_category">
                    <div class="category_title">Lunch</div>
                    <div class="food_item">
                        <span class="food_name">Chicken Biryani</span>
                        <input type="number" class="food_price_input" value="450" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('chicken-biryani', this)">Update</button>
                    </div>
                    <div class="food_item">
                        <span class="food_name">Mutton Biryani</span>
                        <input type="number" class="food_price_input" value="500" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('mutton-biryani', this)">Update</button>
            </div>
                    <div class="food_item">
                        <span class="food_name">Paneer Tikka Masala</span>
                        <input type="number" class="food_price_input" value="380" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('paneer-tikka', this)">Update</button>
                            </div>
                    <div class="food_item">
                        <span class="food_name">Fish Curry</span>
                        <input type="number" class="food_price_input" value="400" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('fish-curry', this)">Update</button>
                            </div>
                    </div>

                <div class="food_category">
                    <div class="category_title">Dinner</div>
                    <div class="food_item">
                        <span class="food_name">Butter Chicken</span>
                        <input type="number" class="food_price_input" value="550" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('butter-chicken', this)">Update</button>
                            </div>
                    <div class="food_item">
                        <span class="food_name">Mutton Curry</span>
                        <input type="number" class="food_price_input" value="480" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('mutton-curry', this)">Update</button>
                            </div>
                    <div class="food_item">
                        <span class="food_name">Prawn Curry</span>
                        <input type="number" class="food_price_input" value="520" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('prawn-curry', this)">Update</button>
                    </div>
                    <div class="food_item">
                        <span class="food_name">Royal Vegetarian Thali</span>
                        <input type="number" class="food_price_input" value="420" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('veg-thali', this)">Update</button>
                    </div>
                    </div>
                    
                <div class="food_category">
                    <div class="category_title">Beverages</div>
                    <div class="food_item">
                        <span class="food_name">Coffee</span>
                        <input type="number" class="food_price_input" value="80" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('coffee', this)">Update</button>
                            </div>
                    <div class="food_item">
                        <span class="food_name">Tea</span>
                        <input type="number" class="food_price_input" value="60" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('tea', this)">Update</button>
                            </div>
                    <div class="food_item">
                        <span class="food_name">Fresh Juice</span>
                        <input type="number" class="food_price_input" value="120" min="10" max="1000">
                        <button class="update_food_btn" onclick="updateFoodPrice('fresh-juice', this)">Update</button>
                            </div>
                            </div>
                            </div>
                            </div>

        <!-- Staff Management Tab -->
        <div class="tab_content" id="staff">
            <div class="staff_management">
                <div class="staff_card">
                    <div class="staff_name">Rajesh Kumar</div>
                    <div class="staff_role">Housekeeping Supervisor</div>
                    <div class="task_assign">
                        <label>Assign New Task:</label>
                        <textarea placeholder="Enter task description..."></textarea>
                        <button class="assign_btn" onclick="assignTask('rajesh', this)">Assign Task</button>
                    </div>
                    </div>

                <div class="staff_card">
                    <div class="staff_name">Priya Sharma</div>
                    <div class="staff_role">Food Service Manager</div>
                    <div class="task_assign">
                        <label>Assign New Task:</label>
                        <textarea placeholder="Enter task description..."></textarea>
                        <button class="assign_btn" onclick="assignTask('priya', this)">Assign Task</button>
                </div>
            </div>

                <div class="staff_card">
                    <div class="staff_name">Amit Patel</div>
                    <div class="staff_role">Guest Services</div>
                    <div class="task_assign">
                        <label>Assign New Task:</label>
                        <textarea placeholder="Enter task description..."></textarea>
                        <button class="assign_btn" onclick="assignTask('amit', this)">Assign Task</button>
                </div>
            </div>

                <div class="staff_card">
                    <div class="staff_name">Suresh Reddy</div>
                    <div class="staff_role">Maintenance Engineer</div>
                    <div class="task_assign">
                        <label>Assign New Task:</label>
                        <textarea placeholder="Enter task description..."></textarea>
                        <button class="assign_btn" onclick="assignTask('suresh', this)">Assign Task</button>
                    </div>
                </div>

                <div class="staff_card">
                    <div class="staff_name">Meera Iyer</div>
                    <div class="staff_role">Front Desk</div>
                    <div class="task_assign">
                        <label>Assign New Task:</label>
                        <textarea placeholder="Enter task description..."></textarea>
                        <button class="assign_btn" onclick="assignTask('meera', this)">Assign Task</button>
                    </div>
                </div>

                <div class="staff_card">
                    <div class="staff_name">Kumar Singh</div>
                    <div class="staff_role">Security</div>
                    <div class="task_assign">
                        <label>Assign New Task:</label>
                        <textarea placeholder="Enter task description..."></textarea>
                        <button class="assign_btn" onclick="assignTask('kumar', this)">Assign Task</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div>
            &copy; 2025 BookBuddy. All rights reserved. | 
            <a href="#">Privacy Policy</a> | 
            <a href="#">Terms of Service</a>
        </div>
    </footer>

    <script src="js/database-manager.js"></script>
    <script>
        // Tab switching functionality
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Remove active class from all buttons and content
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab_content').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked button
                this.classList.add('active');
                
                // Show corresponding content
                const tabId = this.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // Update hotel prices
        function updateHotelPrices(hotelId) {
            const standardPrice = document.getElementById(hotelId + '-standard').value;
            const deluxePrice = document.getElementById(hotelId + '-deluxe').value;
            const suitePrice = document.getElementById(hotelId + '-suite').value;
            
            // Here you would typically send this data to a server
            // For now, we'll just show a success message
            showNotification('Hotel prices updated successfully!', 'success');
            
            // Update localStorage or send to server
            const hotelData = {
                standard: parseInt(standardPrice),
                deluxe: parseInt(deluxePrice),
                suite: parseInt(suitePrice)
            };
            
            localStorage.setItem(hotelId + '_prices', JSON.stringify(hotelData));
        }

        // Update food prices
        function updateFoodPrice(foodId, button) {
            const priceInput = button.previousElementSibling;
            const newPrice = priceInput.value;
            
            // Here you would typically send this data to a server
            showNotification(`Food price updated to ₹${newPrice}!`, 'success');
            
            // Update localStorage or send to server
            localStorage.setItem(foodId + '_price', newPrice);
        }

        // Assign task to staff
        function assignTask(staffId, button) {
            const textarea = button.previousElementSibling;
            const taskDescription = textarea.value.trim();
            
            if (taskDescription === '') {
                showNotification('Please enter a task description!', 'error');
                return;
            }
            
            // Here you would typically send this data to a server
            showNotification(`Task assigned to ${getStaffName(staffId)}!`, 'success');
            
            // Clear the textarea
            textarea.value = '';
            
            // Update localStorage or send to server
            const taskData = {
                staffId: staffId,
                description: taskDescription,
                assignedAt: new Date().toISOString(),
                status: 'pending'
            };
            
            const existingTasks = JSON.parse(localStorage.getItem('assignedTasks') || '[]');
            existingTasks.push(taskData);
            localStorage.setItem('assignedTasks', JSON.stringify(existingTasks));
        }

        // Get staff name by ID
        function getStaffName(staffId) {
            const staffNames = {
                'rajesh': 'Rajesh Kumar',
                'priya': 'Priya Sharma',
                'amit': 'Amit Patel',
                'suresh': 'Suresh Reddy',
                'meera': 'Meera Iyer',
                'kumar': 'Kumar Singh'
            };
            return staffNames[staffId] || 'Staff Member';
        }

        // Show notification
        function showNotification(message, type) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background-color: ${type === 'success' ? '#4CAF50' : '#f44336'};
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                z-index: 10000;
                animation: slideInFromRight 0.3s ease-out;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Remove notification after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideInFromRight 0.3s ease-out reverse';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Check user authentication and load user-specific data
        function checkAuthentication() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser || currentUser.type !== 'manager') {
                alert('Access denied. Please login as a manager.');
                window.location.href = 'login.html';
                return false;
            }
            return currentUser;
        }

        // Load manager's hotel data
        function loadManagerHotel(user) {
            const hotelId = user.hotelId;
            if (!hotelId) {
                document.getElementById('hotelManagement').innerHTML = '<p>No hotel assigned to your account.</p>';
                return;
            }

            // Hotel data mapping
            const hotelData = {
                'taj-coromandel': {
                    name: 'Taj Coromandel',
                    id: 'taj',
                    standard: 8500,
                    deluxe: 12000,
                    suite: 18000
                },
                'itc-hotel': {
                    name: 'ITC Grand Chola',
                    id: 'itc',
                    standard: 7200,
                    deluxe: 10000,
                    suite: 15000
                },
                'leela-palace': {
                    name: 'The Leela Palace',
                    id: 'leela',
                    standard: 9800,
                    deluxe: 14000,
                    suite: 20000
                },
                'radisson-blu': {
                    name: 'Radisson Blu',
                    id: 'radisson',
                    standard: 5500,
                    deluxe: 7500,
                    suite: 12000
                },
                'novotel': {
                    name: 'Novotel Chennai',
                    id: 'novotel',
                    standard: 4200,
                    deluxe: 6000,
                    suite: 9000
                },
                'sheraton': {
                    name: 'Sheraton Grand',
                    id: 'sheraton',
                    standard: 6800,
                    deluxe: 9500,
                    suite: 14000
                }
            };

            const hotel = hotelData[hotelId];
            if (hotel) {
                const hotelCard = `
                    <div class="hotel_card">
                        <div class="hotel_name">${hotel.name}</div>
                        <div class="price_section">
                            <label>Standard Room (per night)</label>
                            <input type="number" class="price_input" id="${hotel.id}-standard" value="${hotel.standard}" min="1000" max="50000">
                        </div>
                        <div class="price_section">
                            <label>Deluxe Room (per night)</label>
                            <input type="number" class="price_input" id="${hotel.id}-deluxe" value="${hotel.deluxe}" min="1000" max="50000">
                        </div>
                        <div class="price_section">
                            <label>Suite (per night)</label>
                            <input type="number" class="price_input" id="${hotel.id}-suite" value="${hotel.suite}" min="1000" max="50000">
                        </div>
                        <button class="update_btn" onclick="updateHotelPrices('${hotel.id}')">Update Prices</button>
                    </div>
                `;
                document.getElementById('hotelManagement').innerHTML = hotelCard;
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            const user = checkAuthentication();
            if (user) {
                loadManagerHotel(user);
                loadSavedData();
            }
        });

        // Load saved data
        function loadSavedData() {
            // Load hotel prices
            ['taj', 'itc', 'leela', 'radisson'].forEach(hotelId => {
                const savedData = localStorage.getItem(hotelId + '_prices');
                if (savedData) {
                    const prices = JSON.parse(savedData);
                    document.getElementById(hotelId + '-standard').value = prices.standard;
                    document.getElementById(hotelId + '-deluxe').value = prices.deluxe;
                    document.getElementById(hotelId + '-suite').value = prices.suite;
                }
            });
            
            // Load food prices
            const foodItems = ['idli', 'dosa', 'bread-omelette', 'pongal', 'chicken-biryani', 'mutton-biryani', 'paneer-tikka', 'fish-curry', 'butter-chicken', 'mutton-curry', 'prawn-curry', 'veg-thali', 'coffee', 'tea', 'fresh-juice'];
            foodItems.forEach(foodId => {
                const savedPrice = localStorage.getItem(foodId + '_price');
                if (savedPrice) {
                    const priceInput = document.querySelector(`[onclick*="${foodId}"]`).previousElementSibling;
                    priceInput.value = savedPrice;
                }
            });
        }

        // Add new food item
        function addNewFoodItem() {
            const category = document.getElementById('food-category').value;
            const name = document.getElementById('food-name').value;
            const price = document.getElementById('food-price').value;
            const description = document.getElementById('food-description').value;
            const image = document.getElementById('food-image').value;

            if (!category || !name || !price) {
                showNotification('Please fill in all required fields!', 'error');
                return;
            }

            const newFoodItem = {
                id: 'food_' + Date.now(),
                name: name,
                price: parseInt(price),
                image: image || 'default-food.jpg',
                description: description || 'Delicious food item',
                category: category,
                available: true
            };

            if (typeof dbManager !== 'undefined') {
                if (!dbManager.foodMenu[category]) {
                    dbManager.foodMenu[category] = [];
                }
                dbManager.foodMenu[category].push(newFoodItem);
                dbManager.saveData();
                showNotification(`New food item added to ${category} menu!`, 'success');
                
                // Clear form
                document.getElementById('food-name').value = '';
                document.getElementById('food-price').value = '';
                document.getElementById('food-description').value = '';
                document.getElementById('food-image').value = '';
            }
        }

        // Update food price
        function updateFoodPrice(foodId, button) {
            const newPrice = button.previousElementSibling.value;
            
            if (!newPrice || isNaN(newPrice)) {
                showNotification('Please enter a valid price!', 'error');
                return;
            }

            if (typeof dbManager !== 'undefined') {
                // Find and update the food item
                const categories = dbManager.getFoodCategories();
                for (const category of categories) {
                    const items = dbManager.getFoodMenu(category);
                    const item = items.find(item => item.id === foodId);
                    if (item) {
                        item.price = parseInt(newPrice);
                        dbManager.saveData();
                        showNotification(`Food price updated to ₹${newPrice}!`, 'success');
                        return;
                    }
                }
                showNotification('Food item not found!', 'error');
            }
        }

        // Send booking confirmation email
        function sendBookingEmail(bookingData) {
            // Simulate email sending
            const emailContent = `
                Dear ${bookingData.guest.firstName} ${bookingData.guest.lastName},
                
                Thank you for your booking with Book Buddy!
                
                Booking Details:
                - Hotel: ${bookingData.hotel}
                - Check-in: ${bookingData.dates.checkIn}
                - Check-out: ${bookingData.dates.checkOut}
                - Room Type: ${bookingData.room.type}
                - Total Amount: ₹${bookingData.totalAmount}
                
                We look forward to welcoming you!
                
                Best regards,
                Book Buddy Team
            `;
            
            console.log('Email sent:', emailContent);
            showNotification('Booking confirmation email sent!', 'success');
        }

        // Process payment
        function processPayment(amount) {
            // Simulate payment processing
            const paymentMethods = [
                { name: 'Google Pay', icon: 'fab fa-google-pay' },
                { name: 'PhonePe', icon: 'fas fa-mobile-alt' },
                { name: 'Paytm', icon: 'fas fa-wallet' },
                { name: 'UPI', icon: 'fas fa-qrcode' },
                { name: 'Credit Card', icon: 'fas fa-credit-card' }
            ];
            
            const selectedMethod = paymentMethods[Math.floor(Math.random() * paymentMethods.length)];
            
            showNotification(`Redirecting to ${selectedMethod.name} for payment of ₹${amount}...`, 'success');
            
            // Simulate payment success after 2 seconds
            setTimeout(() => {
                showNotification('Payment successful! Booking confirmed.', 'success');
            }, 2000);
        }
    </script>
    <!-- Add before closing </body> tag -->
    <script src="js/api-client.js"></script>
    <script src="js/booking-manager.js"></script>
    <script src="js/order-manager.js"></script>
    <script src="js/manager-tools.js"></script>
    
    <!-- Add manager functionality -->
    <script>
        // Check if user is manager
        document.addEventListener('DOMContentLoaded', () => {
            if (!api.token) {
                window.location.href = 'login.html';
                return;
            }
            
            // Load manager data
            loadManagerData();
        });
        
        async function loadManagerData() {
            try {
                // Load hotels, food items, etc.
                const hotels = await api.getHotels();
                const foodItems = await api.getFoodItems();
                
                displayHotels(hotels);
                displayFoodItems(foodItems);
                
            } catch (error) {
                console.error('Failed to load manager data:', error);
            }
        }
        function displayHotels(hotels) {
            const container = document.getElementById('hotels-container');
            if (!container) return;
            
            container.innerHTML = hotels.map(hotel => `
                <div class="hotel-card">
                    <h3>${hotel.name}</h3>
                    <p>Location: ${hotel.location}</p>
                    <p>Current Price: ₹${hotel.base_price_per_night.toLocaleString()}</p>
                    <button onclick="managerTools.showPriceUpdateForm('hotel', ${hotel.hotel_id}, ${hotel.base_price_per_night})">
                        Update Price
                    </button>
                </div>
            `).join('');
        }
        
        function displayFoodItems(foodItems) {
            const container = document.getElementById('food-items-container');
            if (!container) return;
            
            container.innerHTML = foodItems.map(item => `
                <div class="food-item-card">
                    <h4>${item.name}</h4>
                    <p>Price: ₹${item.price} - ${item.category} - ${item.type}</p>
                    <button onclick="managerTools.showPriceUpdateForm('food', ${item.food_item_id}, ${item.price})">
                        Update Price
                    </button>
                </div>
            `).join('');
        }
          // Add new food item
          function showAddFoodForm() {
            const formHTML = `
                <div id="add-food-modal" class="modal">
                    <div class="modal-content">
                        <span class="close" onclick="this.parentElement.parentElement.remove()">&times;</span>
                        <h2>Add New Food Item</h2>
                        <form onsubmit="handleAddFood(event)">
                            <input type="text" id="food-name" placeholder="Food Name" required>
                            <input type="number" id="food-price" placeholder="Price" required>
                            <select id="food-category" required>
                                <option value="">Select Category</option>
                                <option value="Breakfast">Breakfast</option>
                                <option value="Lunch">Lunch</option>
                                <option value="Dinner">Dinner</option>
                                <option value="Beverages">Beverages</option>
                            </select>
                            <select id="food-type" required>
                                <option value="">Select Type</option>
                                <option value="Veg">Veg</option>
                                <option value="Non-Veg">Non-Veg</option>
                                <option value="General">General</option>
                            </select>
                            <button type="submit">Add Food Item</button>
                        </form>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', formHTML);
        }
         
        async function handleAddFood(event) {
            event.preventDefault();
            
            const name = document.getElementById('food-name').value;
            const price = parseFloat(document.getElementById('food-price').value);
            const category = document.getElementById('food-category').value;
            const type = document.getElementById('food-type').value;
            
            try {
                await managerTools.addFoodItem(name, price, category, type);
                document.getElementById('add-food-modal').remove();
                loadManagerData(); // Reload data
            } catch (error) {
                console.error('Failed to add food item:', error);
            }
        }
    </script>
    
    <!-- Add CSS for notifications and modals -->
    <style>
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 5px;
            color: white;
            z-index: 10000;
            animation: slideIn 0.3s ease-out;
        }
        .notification.success { background-color: #4CAF50; }
        .notification.error { background-color: #f44336; }
        .notification.info { background-color: #2196F3; }
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        .modal {
            display: block;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.4);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 10px;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close:hover { color: #000; }
        .hotel-card, .food-item-card {
            border: 1px solid #ddd;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
    </style>
        
</body>
</html>